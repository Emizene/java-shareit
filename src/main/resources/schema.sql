DROP TABLE IF EXISTS users CASCADE;

CREATE TABLE IF NOT EXISTS users
   (id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
   name VARCHAR(100) NOT NULL,
   email VARCHAR(100) NOT NULL,
   CONSTRAINT valid_email CHECK (email LIKE '%@%.%'));

CREATE TABLE IF NOT EXISTS items
   (id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
   name VARCHAR(255),
   description VARCHAR(255),
   available BOOLEAN,
   owner_id BIGINT,
   FOREIGN KEY (owner_id) REFERENCES users(id) ON DELETE CASCADE);
